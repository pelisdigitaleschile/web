<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Reservas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 600px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="time"],
        input[type="number"],
        textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .product {
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .product input[type="number"] {
            width: 50px;
            text-align: center;
        }
        .total {
            font-weight: bold;
            margin-top: 20px;
        }
        button {
            padding: 10px 15px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Formulario de Reservas</h2>
    <form id="reservationForm">
        <!-- Campos del formulario -->
        <div class="form-group">
            <label for="date">Fecha <span style="color:red;">*</span></label>
            <input type="date" id="date" required>
        </div>
        <div class="form-group">
            <label for="time">Hora <span style="color:red;">*</span></label>
            <input type="time" id="time" required>
        </div>
        <div class="form-group">
            <label for="people">Cantidad de Personas</label>
            <input type="number" id="people" min="1">
        </div>
        <div class="form-group">
            <label for="name">Nombre <span style="color:red;">*</span></label>
            <input type="text" id="name" required>
        </div>
        <div class="form-group">
            <label for="surname">Apellidos <span style="color:red;">*</span></label>
            <input type="text" id="surname" required>
        </div>
        <div class="form-group">
            <label for="phone">Celular <span style="color:red;">*</span></label>
            <input type="tel" id="phone" required>
        </div>
        <div class="form-group">
            <label for="email">E-mail <span style="color:red;">*</span></label>
            <input type="email" id="email" required>
        </div>
        <div class="form-group">
            <label for="comments">Comentarios</label>
            <textarea id="comments" rows="4"></textarea>
        </div>

        <!-- Productos -->
        <h3>Productos</h3>
        <div id="products">
            <!-- Producto 1 -->
            <div class="product">
                <input type="checkbox" id="product1" onchange="updateSubtotal(1)">
                <label for="product1">Producto 1 - Descripción - $10.000</label>
                <input type="number" id="quantity1" value="0" readonly>
                <button type="button" onclick="changeQuantity(1, 1)">+</button>
                <button type="button" onclick="changeQuantity(1, -1)">-</button>
                <span id="subtotal1">Subtotal: $0</span>
            </div>
            <!-- Producto 2 -->
            <div class="product">
                <input type="checkbox" id=" product2" onchange="updateSubtotal(2)">
                <label for="product2">Producto 2 - Descripción - $15.000</label>
                <input type="number" id="quantity2" value="0" readonly>
                <button type="button" onclick="changeQuantity(2, 1)">+</button>
                <button type="button" onclick="changeQuantity(2, -1)">-</button>
                <span id="subtotal2">Subtotal: $0</span>
            </div>
            <!-- Producto 3 -->
            <div class="product">
                <input type="checkbox" id="product3" onchange="updateSubtotal(3)">
                <label for="product3">Producto 3 - Descripción - $20.000</label>
                <input type="number" id="quantity3" value="0" readonly>
                <button type="button" onclick="changeQuantity(3, 1)">+</button>
                <button type="button" onclick="changeQuantity(3, -1)">-</button>
                <span id="subtotal3">Subtotal: $0</span>
            </div>
            <!-- Producto 4 -->
            <div class="product">
                <input type="checkbox" id="product4" onchange="updateSubtotal(4)">
                <label for="product4">Producto 4 - Descripción - $25.000</label>
                <input type="number" id="quantity4" value="0" readonly>
                <button type="button" onclick="changeQuantity(4, 1)">+</button>
                <button type="button" onclick="changeQuantity(4, -1)">-</button>
                <span id="subtotal4">Subtotal: $0</span>
            </div>
            <!-- Producto 5 -->
            <div class="product">
                <input type="checkbox" id="product5" onchange="updateSubtotal(5)">
                <label for="product5">Producto 5 - Descripción - $30.000</label>
                <input type="number" id="quantity5" value="0" readonly>
                <button type="button" onclick="changeQuantity(5, 1)">+</button>
                <button type="button" onclick="changeQuantity(5, -1)">-</button>
                <span id="subtotal5">Subtotal: $0</span>
            </div>
        </div>

        <div class="total">
            Total General: <span id="total">0</span>
        </div>

        <button type="button" onclick="sendWhatsApp()">Enviar por WhatsApp</button>
    </form>
</div>

<script>
    function changeQuantity(productId, change) {
        const quantityInput = document.getElementById(`quantity${productId}`);
        let quantity = parseInt(quantityInput.value) + change;
        if (quantity < 0) quantity = 0;
        quantityInput.value = quantity;
        updateSubtotal(productId);
    }

    function updateSubtotal(productId) {
        const quantity = parseInt(document.getElementById(`quantity${productId}`).value);
        const price = [10000, 15000, 20000, 25000, 30000][productId - 1];
        const subtotal = quantity * price;
        document.getElementById(`subtotal${productId}`).innerText = `Subtotal: $${subtotal.toLocaleString()}`;
        calculateTotal();
    }

    function calculateTotal() {
        let total = 0;
        for (let i = 1; i <= 5; i++) {
            const subtotal = parseInt(document.getElementById(`subtotal${i}`).innerText.replace('Subtotal: $', '').replace('.', '').replace(',', '')) || 0;
            total += subtotal;
        }
        document.getElementById('total').innerText = total.toLocaleString();
    }

    function sendWhatsApp() {
        const date = document.getElementById('date').value;
        const time = document.getElementById('time').value;
        const people = document.getElementById('people').value || 'No especificado';
        const name = document.getElementById('name').value;
        const surname = document.getElementById('surname').value;
        const phone = document.getElementById('phone').value;
        const email = document.getElementById('email').value;
        const comments = document.getElementById('comments').value || 'Sin comentarios';
        const total = document.getElementById('total').innerText;

        let message = `Reserva:\nFecha: ${date}\nHora: ${time}\nCantidad de Personas: ${people}\nNombre: ${name}\nApellidos:
        ${surname}\nCelular: ${phone}\nE-mail: ${email}\nComentarios: ${comments}\nTotal General: $${total}`;

        // Generar el enlace de WhatsApp
        const phoneNumber = '56932334235';
        const url = `https://api.whatsapp.com/send?phone=${phoneNumber}&text=${encodeURIComponent(message)}`;
        
        // Abrir el enlace en una nueva ventana
        window.open(url, '_blank');
    }
</script>

</body>
</html>